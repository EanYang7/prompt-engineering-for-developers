
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="面向开发者的 LLM 入门教程，吴恩达大模型系列课程中文版">
      
      
        <meta name="author" content="Ean Yang">
      
      
        <link rel="canonical" href="https://eanyang7.github.io/prompt-engineering-for-developers/02-%E6%90%AD%E5%BB%BA%E5%9F%BA%E4%BA%8E%20ChatGPT%20%E7%9A%84%E9%97%AE%E7%AD%94%E7%B3%BB%E7%BB%9F/10.%20%E8%AF%84%E4%BC%B0%EF%BC%88%E4%B8%8B%EF%BC%89Evaluation-part2/">
      
      
        <link rel="prev" href="../1.%20%E7%AE%80%E4%BB%8B%20Introduction/">
      
      
        <link rel="next" href="../11.%E6%80%BB%E7%BB%93%20conclusion/">
      
      
      <link rel="icon" href="../../assets/favicon.jpg">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.12">
    
    
      
        <title>第十章 评估（下）——当不存在一个简单的正确答案时 - 面向开发者的 LLM 入门教程</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.fad675c6.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="deep-purple">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="面向开发者的 LLM 入门教程" class="md-header__button md-logo" aria-label="面向开发者的 LLM 入门教程" data-md-component="logo">
      
  <img src="../../assets/logo.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            面向开发者的 LLM 入门教程
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              第十章 评估（下）——当不存在一个简单的正确答案时
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="deep-purple"  aria-label="切换为暗黑模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换为暗黑模式" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="red"  aria-label="切换为浅色模式"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="切换为浅色模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/EanYang7/prompt-engineering-for-developers" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    github仓库
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="面向开发者的 LLM 入门教程" class="md-nav__button md-logo" aria-label="面向开发者的 LLM 入门教程" data-md-component="logo">
      
  <img src="../../assets/logo.jpg" alt="logo">

    </a>
    面向开发者的 LLM 入门教程
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/EanYang7/prompt-engineering-for-developers" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    github仓库
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    面向开发者的 LLM 入门课程
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%89%8D%E8%A8%80/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    前言
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    环境配置
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../01-%E9%9D%A2%E5%90%91%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/1.%20%E7%AE%80%E4%BB%8B%20Introduction/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    01 面向开发者的提示工程
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    02 搭建基于 ChatGPT 的问答系统
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            02 搭建基于 ChatGPT 的问答系统
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../1.%20%E7%AE%80%E4%BB%8B%20Introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第一章 简介
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    第十章 评估（下）——当不存在一个简单的正确答案时
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    第十章 评估（下）——当不存在一个简单的正确答案时
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      一、运行问答系统获得一个复杂回答
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpt" class="md-nav__link">
    <span class="md-ellipsis">
      二、使用 GPT 评估回答是否正确
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      三、评估生成回答与标准回答的差距
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      四、英文版
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../11.%E6%80%BB%E7%BB%93%20conclusion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第十一章 总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../2.%20%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%EF%BC%8C%E6%8F%90%E9%97%AE%E8%8C%83%E5%BC%8F%E4%B8%8E%20Token%20Language%20Models%2C%20the%20Chat%20Format%20and%20Tokens/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第二章 语言模型，提问范式与 Token
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../3.%20%E8%AF%84%E4%BC%B0%E8%BE%93%E5%85%A5-%E5%88%86%E7%B1%BB%20Classification/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第三章 评估输入——分类
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../4.%20%E6%A3%80%E6%9F%A5%E8%BE%93%E5%85%A5-%E7%9B%91%E7%9D%A3%20Moderation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第四章 检查输入 - 审核
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../5.%20%E5%A4%84%E7%90%86%E8%BE%93%E5%85%A5-%E6%80%9D%E7%BB%B4%E9%93%BE%E6%8E%A8%E7%90%86%20Chain%20of%20Thought%20Reasoning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第五章 处理输入-思维链推理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../6.%20%E5%A4%84%E7%90%86%E8%BE%93%E5%85%A5-%E9%93%BE%E5%BC%8F%20Prompt%20Chaining%20Prompts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第六章 处理输入-链式
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../7.%20%E6%A3%80%E6%9F%A5%E7%BB%93%E6%9E%9C%20Check%20Outputs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第七章 检查结果
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../8.%20%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%B8%A6%E8%AF%84%E4%BC%B0%E7%9A%84%E7%AB%AF%E5%88%B0%E7%AB%AF%E9%97%AE%E7%AD%94%E7%B3%BB%E7%BB%9F%20Evaluation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第八章 搭建一个带评估的端到端问答系统
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../9.%20%E8%AF%84%E4%BC%B0%EF%BC%88%E4%B8%8A%EF%BC%89%20Evaluation-part1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第九章 评估（上）——存在一个简单的正确答案时
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../readme/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第二部分 搭建基于 ChatGPT 的问答系统
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../03-%E4%BD%BF%E7%94%A8%20LangChain%20%E5%BC%80%E5%8F%91%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/1.%20%E7%AE%80%E4%BB%8B%20Introduction/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    03 使用 LangChain 开发应用程序
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../04-%E4%BD%BF%E7%94%A8%20LangChain%20%E8%AE%BF%E9%97%AE%E4%B8%AA%E4%BA%BA%E6%95%B0%E6%8D%AE/1.%20%E7%AE%80%E4%BB%8B%20Introduction/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    04 使用 LangChain 访问个人数据
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      一、运行问答系统获得一个复杂回答
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gpt" class="md-nav__link">
    <span class="md-ellipsis">
      二、使用 GPT 评估回答是否正确
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      三、评估生成回答与标准回答的差距
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      四、英文版
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/EanYang7/prompt-engineering-for-developers/tree/main/docs/02-搭建基于 ChatGPT 的问答系统/10. 评估（下）Evaluation-part2.md" title="编辑此页" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/EanYang7/prompt-engineering-for-developers/tree/main/docs/02-搭建基于 ChatGPT 的问答系统/10. 评估（下）Evaluation-part2.md" title="查看本页的源代码" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"/></svg>
    </a>
  


<h1 id="_1">第十章 评估（下）——当不存在一个简单的正确答案时<a class="headerlink" href="#_1" title="Permanent link">⚓︎</a></h1>
<p>在上一章中，我们探索了如何评估 LLM 模型在 <strong>有明确正确答案</strong> 的情况下的性能，并且我们学会了编写一个函数来验证 LLM 是否正确地进行了分类列出产品。</p>
<p>然而，如果我们想要使用 LLM 来生成文本，而不仅仅是用于解决分类问题，我们又应该如何评估其回答准确率呢？在本章，我们将讨论如何评估LLM在这种应用场景中的输出的质量。</p>
<h2 id="_2">一、运行问答系统获得一个复杂回答<a class="headerlink" href="#_2" title="Permanent link">⚓︎</a></h2>
<p>我们首先运行在之前章节搭建的问答系统来获得一个复杂的、不存在一个简单正确答案的回答：</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">utils_zh</span>

<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">注意：限于模型对中文理解能力较弱，中文 Prompt 可能会随机出现不成功，可以多次运行；也非常欢迎同学探究更稳定的中文 Prompt</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="c1"># 用户消息</span>
<span class="n">customer_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">告诉我有关 the smartx pro phone 和 the fotosnap camera, the dslr one 的信息。</span>
<span class="s2">另外，你们这有什么 TVs ？&quot;&quot;&quot;</span>

<span class="c1"># 从问题中抽取商品名</span>
<span class="n">products_by_category</span> <span class="o">=</span> <span class="n">utils_zh</span><span class="o">.</span><span class="n">get_products_from_query</span><span class="p">(</span><span class="n">customer_msg</span><span class="p">)</span>
<span class="c1"># 将商品名转化为列表</span>
<span class="n">category_and_product_list</span> <span class="o">=</span> <span class="n">utils_zh</span><span class="o">.</span><span class="n">read_string_to_list</span><span class="p">(</span><span class="n">products_by_category</span><span class="p">)</span>
<span class="c1"># 查找商品对应的信息</span>
<span class="n">product_info</span> <span class="o">=</span> <span class="n">utils_zh</span><span class="o">.</span><span class="n">get_mentioned_product_info</span><span class="p">(</span><span class="n">category_and_product_list</span><span class="p">)</span>
<span class="c1"># 由信息生成回答</span>
<span class="n">assistant_answer</span> <span class="o">=</span> <span class="n">utils_zh</span><span class="o">.</span><span class="n">answer_user_msg</span><span class="p">(</span><span class="n">user_msg</span><span class="o">=</span><span class="n">customer_msg</span><span class="p">,</span> <span class="n">product_info</span><span class="o">=</span><span class="n">product_info</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">assistant_answer</span><span class="p">)</span> 
</code></pre></div>
<div class="highlight"><pre><span></span><code>关于SmartX Pro手机和FotoSnap DSLR相机的信息：

1. SmartX Pro手机（型号：SX-PP10）是一款功能强大的智能手机，拥有6.1英寸显示屏、128GB存储空间、12MP双摄像头和5G网络支持。价格为899.99美元，保修期为1年。

2. FotoSnap DSLR相机（型号：FS-DSLR200）是一款多功能的单反相机，拥有24.2MP传感器、1080p视频拍摄、3英寸液晶屏和可更换镜头。价格为599.99美元，保修期为1年。

关于电视的信息：

我们有以下电视可供选择：
1. CineView 4K电视（型号：CV-4K55）- 55英寸显示屏，4K分辨率，支持HDR和智能电视功能。价格为599.99美元，保修期为2年。
2. CineView 8K电视（型号：CV-8K65）- 65英寸显示屏，8K分辨率，支持HDR和智能电视功能。价格为2999.99美元，保修期为2年。
3. CineView OLED电视（型号：CV-OLED55）- 55英寸OLED显示屏，4K分辨率，支持HDR和智能电视功能。价格为1499.99美元，保修期为2年。

请问您对以上产品有任何特别的要求或其他问题吗？
</code></pre></div>
<h2 id="gpt">二、使用 GPT 评估回答是否正确<a class="headerlink" href="#gpt" title="Permanent link">⚓︎</a></h2>
<p>我们希望您能从中学到一个设计模式，即当您可以指定一个评估 LLM 输出的标准列表时，您实际上可以使用另一个 API 调用来评估您的第一个 LLM 输出。</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">tool</span> <span class="kn">import</span> <span class="n">get_completion_from_messages</span>

<span class="c1"># 问题、上下文</span>
<span class="n">cust_prod_info</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;customer_msg&#39;</span><span class="p">:</span> <span class="n">customer_msg</span><span class="p">,</span>
    <span class="s1">&#39;context&#39;</span><span class="p">:</span> <span class="n">product_info</span>
<span class="p">}</span>

<span class="k">def</span> <span class="nf">eval_with_rubric</span><span class="p">(</span><span class="n">test_set</span><span class="p">,</span> <span class="n">assistant_answer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    使用 GPT API 评估生成的回答</span>

<span class="sd">    参数：</span>
<span class="sd">    test_set: 测试集</span>
<span class="sd">    assistant_answer: 助手的回复</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">cust_msg</span> <span class="o">=</span> <span class="n">test_set</span><span class="p">[</span><span class="s1">&#39;customer_msg&#39;</span><span class="p">]</span>
    <span class="n">context</span> <span class="o">=</span> <span class="n">test_set</span><span class="p">[</span><span class="s1">&#39;context&#39;</span><span class="p">]</span>
    <span class="n">completion</span> <span class="o">=</span> <span class="n">assistant_answer</span>

    <span class="c1"># 人设</span>
    <span class="n">system_message</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">    你是一位助理，通过查看客户服务代理使用的上下文来评估客户服务代理回答用户问题的情况。</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="c1"># 具体指令</span>
    <span class="n">user_message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">    你正在根据代理使用的上下文评估对问题的提交答案。以下是数据：</span>
<span class="s2">    [开始]</span>
<span class="s2">    ************</span>
<span class="s2">    [用户问题]: </span><span class="si">{</span><span class="n">cust_msg</span><span class="si">}</span>
<span class="s2">    ************</span>
<span class="s2">    [使用的上下文]: </span><span class="si">{</span><span class="n">context</span><span class="si">}</span>
<span class="s2">    ************</span>
<span class="s2">    [客户代理的回答]: </span><span class="si">{</span><span class="n">completion</span><span class="si">}</span>
<span class="s2">    ************</span>
<span class="s2">    [结束]</span>

<span class="s2">    请将提交的答案的事实内容与上下文进行比较，忽略样式、语法或标点符号上的差异。</span>
<span class="s2">    回答以下问题：</span>
<span class="s2">    助手的回应是否只基于所提供的上下文？（是或否）</span>
<span class="s2">    回答中是否包含上下文中未提供的信息？（是或否）</span>
<span class="s2">    回应与上下文之间是否存在任何不一致之处？（是或否）</span>
<span class="s2">    计算用户提出了多少个问题。（输出一个数字）</span>
<span class="s2">    对于用户提出的每个问题，是否有相应的回答？</span>
<span class="s2">    问题1：（是或否）</span>
<span class="s2">    问题2：（是或否）</span>
<span class="s2">    ...</span>
<span class="s2">    问题N：（是或否）</span>
<span class="s2">    在提出的问题数量中，有多少个问题在回答中得到了回应？（输出一个数字）</span>
<span class="s2">&quot;&quot;&quot;</span>

    <span class="n">messages</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;system&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">system_message</span><span class="p">},</span>
        <span class="p">{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">user_message</span><span class="p">}</span>
    <span class="p">]</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">get_completion_from_messages</span><span class="p">(</span><span class="n">messages</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span>

<span class="n">evaluation_output</span> <span class="o">=</span> <span class="n">eval_with_rubric</span><span class="p">(</span><span class="n">cust_prod_info</span><span class="p">,</span> <span class="n">assistant_answer</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">evaluation_output</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>助手的回应只基于所提供的上下文。是
回答中不包含上下文中未提供的信息。是
回应与上下文之间不存在任何不一致之处。是
用户提出了2个问题。
对于用户提出的每个问题，都有相应的回答。
问题1：是
问题2：是
在提出的问题数量中，有2个问题在回答中得到了回应。
</code></pre></div>
<h2 id="_3">三、评估生成回答与标准回答的差距<a class="headerlink" href="#_3" title="Permanent link">⚓︎</a></h2>
<p>在经典的自然语言处理技术中，有一些传统的度量标准用于衡量 LLM 输出与人类专家编写的输出的相似度。例如，BLUE 分数可用于衡量两段文本的相似程度。</p>
<p>实际上有一种更好的方法，即使用 Prompt。您可以指定 Prompt，使用 Prompt 来比较由 LLM 自动生成的客户服务代理响应与人工理想响应的匹配程度。</p>
<div class="highlight"><pre><span></span><code><span class="sd">&#39;&#39;&#39;基于中文Prompt的验证集&#39;&#39;&#39;</span>
<span class="n">test_set_ideal</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;customer_msg&#39;</span><span class="p">:</span> <span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">告诉我有关 the Smartx Pro 手机 和 FotoSnap DSLR相机, the dslr one 的信息。</span><span class="se">\n</span><span class="s2">另外，你们这有什么电视 ？&quot;&quot;&quot;</span><span class="p">,</span>
    <span class="s1">&#39;ideal_answer&#39;</span><span class="p">:</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">SmartX Pro手机是一款功能强大的智能手机，拥有6.1英寸显示屏、128GB存储空间、12MP双摄像头和5G网络支持。价格为899.99美元，保修期为1年。</span>
<span class="s2">FotoSnap DSLR相机是一款多功能的单反相机，拥有24.2MP传感器、1080p视频拍摄、3英寸液晶屏和可更换镜头。价格为599.99美元，保修期为1年。</span>

<span class="s2">我们有以下电视可供选择：</span>
<span class="s2">1. CineView 4K电视（型号：CV-4K55）- 55英寸显示屏，4K分辨率，支持HDR和智能电视功能。价格为599.99美元，保修期为2年。</span>
<span class="s2">2. CineView 8K电视（型号：CV-8K65）- 65英寸显示屏，8K分辨率，支持HDR和智能电视功能。价格为2999.99美元，保修期为2年。</span>
<span class="s2">3. CineView OLED电视（型号：CV-OLED55）- 55英寸OLED显示屏，4K分辨率，支持HDR和智能电视功能。价格为1499.99美元，保修期为2年。</span>
<span class="s2">    &quot;&quot;&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>我们首先在上文中定义了一个验证集，其包括一个用户指令与一个标准回答。</p>
<p>接着我们可以实现一个评估函数，该函数利用 LLM 的理解能力，要求 LLM 评估生成回答与标准回答是否一致。</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">eval_vs_ideal</span><span class="p">(</span><span class="n">test_set</span><span class="p">,</span> <span class="n">assistant_answer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    评估回复是否与理想答案匹配</span>

<span class="sd">    参数：</span>
<span class="sd">    test_set: 测试集</span>
<span class="sd">    assistant_answer: 助手的回复</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cust_msg</span> <span class="o">=</span> <span class="n">test_set</span><span class="p">[</span><span class="s1">&#39;customer_msg&#39;</span><span class="p">]</span>
    <span class="n">ideal</span> <span class="o">=</span> <span class="n">test_set</span><span class="p">[</span><span class="s1">&#39;ideal_answer&#39;</span><span class="p">]</span>
    <span class="n">completion</span> <span class="o">=</span> <span class="n">assistant_answer</span>

    <span class="n">system_message</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">    您是一位助理，通过将客户服务代理的回答与理想（专家）回答进行比较，评估客户服务代理对用户问题的回答质量。</span>
<span class="s2">    请输出一个单独的字母（A 、B、C、D、E），不要包含其他内容。 </span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="n">user_message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">    您正在比较一个给定问题的提交答案和专家答案。数据如下:</span>
<span class="s2">    [开始]</span>
<span class="s2">    ************</span>
<span class="s2">    [问题]: </span><span class="si">{</span><span class="n">cust_msg</span><span class="si">}</span>
<span class="s2">    ************</span>
<span class="s2">    [专家答案]: </span><span class="si">{</span><span class="n">ideal</span><span class="si">}</span>
<span class="s2">    ************</span>
<span class="s2">    [提交答案]: </span><span class="si">{</span><span class="n">completion</span><span class="si">}</span>
<span class="s2">    ************</span>
<span class="s2">    [结束]</span>

<span class="s2">    比较提交答案的事实内容与专家答案，关注在内容上，忽略样式、语法或标点符号上的差异。</span>
<span class="s2">    你的关注核心应该是答案的内容是否正确，内容的细微差异是可以接受的。</span>
<span class="s2">    提交的答案可能是专家答案的子集、超集，或者与之冲突。确定适用的情况，并通过选择以下选项之一回答问题：</span>
<span class="s2">    （A）提交的答案是专家答案的子集，并且与之完全一致。</span>
<span class="s2">    （B）提交的答案是专家答案的超集，并且与之完全一致。</span>
<span class="s2">    （C）提交的答案包含与专家答案完全相同的细节。</span>
<span class="s2">    （D）提交的答案与专家答案存在分歧。</span>
<span class="s2">    （E）答案存在差异，但从事实的角度来看这些差异并不重要。</span>
<span class="s2">    选项：ABCDE</span>
<span class="s2">&quot;&quot;&quot;</span>

    <span class="n">messages</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;system&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">system_message</span><span class="p">},</span>
        <span class="p">{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">user_message</span><span class="p">}</span>
    <span class="p">]</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">get_completion_from_messages</span><span class="p">(</span><span class="n">messages</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span>
</code></pre></div>
<p>这个评分标准来自于 OpenAI 开源评估框架，这是一个非常棒的框架，其中包含了许多评估方法，既有 OpenAI 开发人员的贡献，也有更广泛的开源社区的贡献。</p>
<p>在这个评分标准中，我们要求 LLM 针对提交答案与专家答案进行信息内容的比较，并忽略其风格、语法和标点符号等方面的差异，但关键是我们要求它进行比较，并输出从A到E的分数，具体取决于提交的答案是否是专家答案的子集、超集或完全一致，这可能意味着它虚构或编造了一些额外的事实。</p>
<p>LLM 将选择其中最合适的描述。</p>
<p>LLM 生成的回答为：</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">assistant_answer</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>关于SmartX Pro手机和FotoSnap DSLR相机的信息：

1. SmartX Pro手机（型号：SX-PP10）是一款功能强大的智能手机，拥有6.1英寸显示屏、128GB存储空间、12MP双摄像头和5G网络支持。价格为899.99美元，保修期为1年。

2. FotoSnap DSLR相机（型号：FS-DSLR200）是一款多功能的单反相机，拥有24.2MP传感器、1080p视频拍摄、3英寸液晶屏和可更换镜头。价格为599.99美元，保修期为1年。

关于电视的信息：

我们有以下电视可供选择：
1. CineView 4K电视（型号：CV-4K55）- 55英寸显示屏，4K分辨率，支持HDR和智能电视功能。价格为599.99美元，保修期为2年。
2. CineView 8K电视（型号：CV-8K65）- 65英寸显示屏，8K分辨率，支持HDR和智能电视功能。价格为2999.99美元，保修期为2年。
3. CineView OLED电视（型号：CV-OLED55）- 55英寸OLED显示屏，4K分辨率，支持HDR和智能电视功能。价格为1499.99美元，保修期为2年。

请问您对以上产品有任何进一步的问题或者需要了解其他产品吗？
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">eval_vs_ideal</span><span class="p">(</span><span class="n">test_set_ideal</span><span class="p">,</span> <span class="n">assistant_answer</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>&#39;C&#39;
</code></pre></div>
<p>对于该生成回答，GPT 判断生成内容与标准答案一致</p>
<div class="highlight"><pre><span></span><code><span class="n">assistant_answer_2</span> <span class="o">=</span> <span class="s2">&quot;life is like a box of chocolates&quot;</span>

<span class="n">eval_vs_ideal</span><span class="p">(</span><span class="n">test_set_ideal</span><span class="p">,</span> <span class="n">assistant_answer_2</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>&#39;D&#39;
</code></pre></div>
<p>对于明显异常答案，GPT 判断为不一致</p>
<p>希望您从本章中学到两个设计模式。</p>
<ol>
<li>
<p>即使没有专家提供的理想答案，只要能制定一个评估标准，就可以使用一个 LLM 来评估另一个 LLM 的输出。</p>
</li>
<li>
<p>如果您可以提供一个专家提供的理想答案，那么可以帮助您的 LLM 更好地比较特定助手输出是否与专家提供的理想答案相似。</p>
</li>
</ol>
<p>希望这可以帮助您评估 LLM 系统的输出，以便在开发期间持续监测系统的性能，并使用这些工具不断评估和改进系统的性能。</p>
<h2 id="_4">四、英文版<a class="headerlink" href="#_4" title="Permanent link">⚓︎</a></h2>
<p><strong>1. 对问答系统提问</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">utils_en</span>

<span class="c1"># 用户消息</span>
<span class="n">customer_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">tell me about the smartx pro phone and the fotosnap camera, the dslr one.</span>
<span class="s2">Also, what TVs or TV related products do you have?&quot;&quot;&quot;</span>

<span class="c1"># 从问题中抽取商品名</span>
<span class="n">products_by_category</span> <span class="o">=</span> <span class="n">utils_en</span><span class="o">.</span><span class="n">get_products_from_query</span><span class="p">(</span><span class="n">customer_msg</span><span class="p">)</span>
<span class="c1"># 将商品名转化为列表</span>
<span class="n">category_and_product_list</span> <span class="o">=</span> <span class="n">utils_en</span><span class="o">.</span><span class="n">read_string_to_list</span><span class="p">(</span><span class="n">products_by_category</span><span class="p">)</span>
<span class="c1"># 查找商品对应的信息</span>
<span class="n">product_info</span> <span class="o">=</span> <span class="n">utils_en</span><span class="o">.</span><span class="n">get_mentioned_product_info</span><span class="p">(</span><span class="n">category_and_product_list</span><span class="p">)</span>
<span class="c1"># 由信息生成回答</span>
<span class="n">assistant_answer</span> <span class="o">=</span> <span class="n">utils_en</span><span class="o">.</span><span class="n">answer_user_msg</span><span class="p">(</span><span class="n">user_msg</span><span class="o">=</span><span class="n">customer_msg</span><span class="p">,</span> <span class="n">product_info</span><span class="o">=</span><span class="n">product_info</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">assistant_answer</span><span class="p">)</span> 
</code></pre></div>
<div class="highlight"><pre><span></span><code>Sure! Let me provide you with some information about the SmartX ProPhone and the FotoSnap DSLR Camera.

The SmartX ProPhone is a powerful smartphone with advanced camera features. It has a 6.1-inch display, 128GB storage, a 12MP dual camera, and supports 5G connectivity. The SmartX ProPhone is priced at $899.99 and comes with a 1-year warranty.

The FotoSnap DSLR Camera is a versatile camera that allows you to capture stunning photos and videos. It features a 24.2MP sensor, 1080p video recording, a 3-inch LCD screen, and supports interchangeable lenses. The FotoSnap DSLR Camera is priced at $599.99 and also comes with a 1-year warranty.

As for TVs and TV-related products, we have a range of options available. Some of our popular TV models include the CineView 4K TV, CineView 8K TV, and CineView OLED TV. We also have home theater systems like the SoundMax Home Theater and SoundMax Soundbar. Could you please let me know your specific requirements or preferences so that I can assist you better?
</code></pre></div>
<p><strong>2. 使用GPT评估</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># 问题、上下文</span>
<span class="n">cust_prod_info</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;customer_msg&#39;</span><span class="p">:</span> <span class="n">customer_msg</span><span class="p">,</span>
    <span class="s1">&#39;context&#39;</span><span class="p">:</span> <span class="n">product_info</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">eval_with_rubric</span><span class="p">(</span><span class="n">test_set</span><span class="p">,</span> <span class="n">assistant_answer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    使用 GPT API 评估生成的回答</span>

<span class="sd">    参数：</span>
<span class="sd">    test_set: 测试集</span>
<span class="sd">    assistant_answer: 助手的回复</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">cust_msg</span> <span class="o">=</span> <span class="n">test_set</span><span class="p">[</span><span class="s1">&#39;customer_msg&#39;</span><span class="p">]</span>
    <span class="n">context</span> <span class="o">=</span> <span class="n">test_set</span><span class="p">[</span><span class="s1">&#39;context&#39;</span><span class="p">]</span>
    <span class="n">completion</span> <span class="o">=</span> <span class="n">assistant_answer</span>

    <span class="c1"># 要求 GPT 作为一个助手评估回答正确性</span>
    <span class="n">system_message</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">    You are an assistant that evaluates how well the customer service agent </span><span class="se">\</span>
<span class="s2">    answers a user question by looking at the context that the customer service </span><span class="se">\</span>
<span class="s2">    agent is using to generate its response. </span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="c1"># 具体指令</span>
    <span class="n">user_message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">You are evaluating a submitted answer to a question based on the context </span><span class="se">\</span>
<span class="s2">that the agent uses to answer the question.</span>
<span class="s2">Here is the data:</span>
<span class="s2">    [BEGIN DATA]</span>
<span class="s2">    ************</span>
<span class="s2">    [Question]: </span><span class="si">{</span><span class="n">cust_msg</span><span class="si">}</span>
<span class="s2">    ************</span>
<span class="s2">    [Context]: </span><span class="si">{</span><span class="n">context</span><span class="si">}</span>
<span class="s2">    ************</span>
<span class="s2">    [Submission]: </span><span class="si">{</span><span class="n">completion</span><span class="si">}</span>
<span class="s2">    ************</span>
<span class="s2">    [END DATA]</span>

<span class="s2">Compare the factual content of the submitted answer with the context. </span><span class="se">\</span>
<span class="s2">Ignore any differences in style, grammar, or punctuation.</span>
<span class="s2">Answer the following questions:</span>
<span class="s2">    - Is the Assistant response based only on the context provided? (Y or N)</span>
<span class="s2">    - Does the answer include information that is not provided in the context? (Y or N)</span>
<span class="s2">    - Is there any disagreement between the response and the context? (Y or N)</span>
<span class="s2">    - Count how many questions the user asked. (output a number)</span>
<span class="s2">    - For each question that the user asked, is there a corresponding answer to it?</span>
<span class="s2">      Question 1: (Y or N)</span>
<span class="s2">      Question 2: (Y or N)</span>
<span class="s2">      ...</span>
<span class="s2">      Question N: (Y or N)</span>
<span class="s2">    - Of the number of questions asked, how many of these questions were addressed by the answer? (output a number)</span>
<span class="s2">&quot;&quot;&quot;</span>

    <span class="n">messages</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;system&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">system_message</span><span class="p">},</span>
        <span class="p">{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">user_message</span><span class="p">}</span>
    <span class="p">]</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">get_completion_from_messages</span><span class="p">(</span><span class="n">messages</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">evaluation_output</span> <span class="o">=</span> <span class="n">eval_with_rubric</span><span class="p">(</span><span class="n">cust_prod_info</span><span class="p">,</span> <span class="n">assistant_answer</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">evaluation_output</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>- Is the Assistant response based only on the context provided? (Y or N)
Y

- Does the answer include information that is not provided in the context? (Y or N)
N

- Is there any disagreement between the response and the context? (Y or N)
N

- Count how many questions the user asked. (output a number)
2

- For each question that the user asked, is there a corresponding answer to it?
Question 1: Y
Question 2: Y

- Of the number of questions asked, how many of these questions were addressed by the answer? (output a number)
2
</code></pre></div>
<p><strong>3. 评估生成回答与标准回答的差距</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">test_set_ideal</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;customer_msg&#39;</span><span class="p">:</span> <span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">tell me about the smartx pro phone and the fotosnap camera, the dslr one.</span>
<span class="s2">Also, what TVs or TV related products do you have?&quot;&quot;&quot;</span><span class="p">,</span>
    <span class="s1">&#39;ideal_answer&#39;</span><span class="p">:</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">Of course!  The SmartX ProPhone is a powerful </span><span class="se">\</span>
<span class="s2">smartphone with advanced camera features. </span><span class="se">\</span>
<span class="s2">For instance, it has a 12MP dual camera. </span><span class="se">\</span>
<span class="s2">Other features include 5G wireless and 128GB storage. </span><span class="se">\</span>
<span class="s2">It also has a 6.1-inch display.  The price is $899.99.</span>

<span class="s2">The FotoSnap DSLR Camera is great for </span><span class="se">\</span>
<span class="s2">capturing stunning photos and videos. </span><span class="se">\</span>
<span class="s2">Some features include 1080p video, </span><span class="se">\</span>
<span class="s2">3-inch LCD, a 24.2MP sensor, </span><span class="se">\</span>
<span class="s2">and interchangeable lenses. </span><span class="se">\</span>
<span class="s2">The price is 599.99.</span>

<span class="s2">For TVs and TV related products, we offer 3 TVs </span><span class="se">\</span>


<span class="s2">All TVs offer HDR and Smart TV.</span>

<span class="s2">The CineView 4K TV has vibrant colors and smart features. </span><span class="se">\</span>
<span class="s2">Some of these features include a 55-inch display, </span><span class="se">\</span>
<span class="s2">&#39;4K resolution. It&#39;s priced at 599.</span>

<span class="s2">The CineView 8K TV is a stunning 8K TV. </span><span class="se">\</span>
<span class="s2">Some features include a 65-inch display and </span><span class="se">\</span>
<span class="s2">8K resolution.  It&#39;s priced at 2999.99</span>

<span class="s2">The CineView OLED TV lets you experience vibrant colors. </span><span class="se">\</span>
<span class="s2">Some features include a 55-inch display and 4K resolution. </span><span class="se">\</span>
<span class="s2">It&#39;s priced at 1499.99.</span>

<span class="s2">We also offer 2 home theater products, both which include bluetooth.</span><span class="se">\</span>
<span class="s2">The SoundMax Home Theater is a powerful home theater system for </span><span class="se">\</span>
<span class="s2">an immmersive audio experience.</span>
<span class="s2">Its features include 5.1 channel, 1000W output, and wireless subwoofer.</span>
<span class="s2">It&#39;s priced at 399.99.</span>

<span class="s2">The SoundMax Soundbar is a sleek and powerful soundbar.</span>
<span class="s2">It&#39;s features include 2.1 channel, 300W output, and wireless subwoofer.</span>
<span class="s2">It&#39;s priced at 199.99</span>

<span class="s2">Are there any questions additional you may have about these products </span><span class="se">\</span>
<span class="s2">that you mentioned here?</span>
<span class="s2">Or may do you have other questions I can help you with?</span>
<span class="s2">    &quot;&quot;&quot;</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">eval_vs_ideal</span><span class="p">(</span><span class="n">test_set</span><span class="p">,</span> <span class="n">assistant_answer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    评估回复是否与理想答案匹配</span>

<span class="sd">    参数：</span>
<span class="sd">    test_set: 测试集</span>
<span class="sd">    assistant_answer: 助手的回复</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cust_msg</span> <span class="o">=</span> <span class="n">test_set</span><span class="p">[</span><span class="s1">&#39;customer_msg&#39;</span><span class="p">]</span>
    <span class="n">ideal</span> <span class="o">=</span> <span class="n">test_set</span><span class="p">[</span><span class="s1">&#39;ideal_answer&#39;</span><span class="p">]</span>
    <span class="n">completion</span> <span class="o">=</span> <span class="n">assistant_answer</span>

    <span class="n">system_message</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">    You are an assistant that evaluates how well the customer service agent </span><span class="se">\</span>
<span class="s2">    answers a user question by comparing the response to the ideal (expert) response</span>
<span class="s2">    Output a single letter and nothing else. </span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="n">user_message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">You are comparing a submitted answer to an expert answer on a given question. Here is the data:</span>
<span class="s2">    [BEGIN DATA]</span>
<span class="s2">    ************</span>
<span class="s2">    [Question]: </span><span class="si">{</span><span class="n">cust_msg</span><span class="si">}</span>
<span class="s2">    ************</span>
<span class="s2">    [Expert]: </span><span class="si">{</span><span class="n">ideal</span><span class="si">}</span>
<span class="s2">    ************</span>
<span class="s2">    [Submission]: </span><span class="si">{</span><span class="n">completion</span><span class="si">}</span>
<span class="s2">    ************</span>
<span class="s2">    [END DATA]</span>

<span class="s2">Compare the factual content of the submitted answer with the expert answer. Ignore any differences in style, grammar, or punctuation.</span>
<span class="s2">    The submitted answer may either be a subset or superset of the expert answer, or it may conflict with it. Determine which case applies. </span>
<span class="s2">    Answer the question by selecting one of the following options:</span>
<span class="s2">    (A) The submitted answer is a subset of the expert answer and is fully consistent with it.</span>
<span class="s2">    (B) The submitted answer is a superset of the expert answer and is fully consistent with it.</span>
<span class="s2">    (C) The submitted answer contains all the same details as the expert answer.</span>
<span class="s2">    (D) There is a disagreement between the submitted answer and the expert answer.</span>
<span class="s2">    (E) The answers differ, but these differences don&#39;t matter from the perspective of factuality.</span>
<span class="s2">  choice_strings: ABCDE</span>
<span class="s2">&quot;&quot;&quot;</span>

    <span class="n">messages</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;system&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">system_message</span><span class="p">},</span>
        <span class="p">{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">user_message</span><span class="p">}</span>
    <span class="p">]</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">get_completion_from_messages</span><span class="p">(</span><span class="n">messages</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">assistant_answer</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>Sure! Let me provide you with some information about the SmartX ProPhone and the FotoSnap DSLR Camera.

The SmartX ProPhone is a powerful smartphone with advanced camera features. It has a 6.1-inch display, 128GB storage, a 12MP dual camera, and supports 5G connectivity. The SmartX ProPhone is priced at $899.99 and comes with a 1-year warranty.

The FotoSnap DSLR Camera is a versatile camera that allows you to capture stunning photos and videos. It features a 24.2MP sensor, 1080p video recording, a 3-inch LCD screen, and supports interchangeable lenses. The FotoSnap DSLR Camera is priced at $599.99 and also comes with a 1-year warranty.

As for TVs and TV-related products, we have a range of options available. Some of our popular TV models include the CineView 4K TV, CineView 8K TV, and CineView OLED TV. We also have home theater systems like the SoundMax Home Theater and SoundMax Soundbar. Could you please let me know your specific requirements or preferences so that I can assist you better?
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># 由于模型的更新，目前在原有 Prompt 上不再能够正确判断</span>
<span class="n">eval_vs_ideal</span><span class="p">(</span><span class="n">test_set_ideal</span><span class="p">,</span> <span class="n">assistant_answer</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>&#39;D&#39;
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">assistant_answer_2</span> <span class="o">=</span> <span class="s2">&quot;life is like a box of chocolates&quot;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">eval_vs_ideal</span><span class="p">(</span><span class="n">test_set_ideal</span><span class="p">,</span> <span class="n">assistant_answer_2</span><span class="p">)</span>
<span class="c1"># 对于明显异常答案，GPT 判断为不一致</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>&#39;D&#39;
</code></pre></div>

  <hr>
<div class="md-source-file">
  <small>
    
      最后更新:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">November 25, 2023</span>
      
        <br>
        创建日期:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">November 25, 2023</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../1.%20%E7%AE%80%E4%BB%8B%20Introduction/" class="md-footer__link md-footer__link--prev" aria-label="上一页: 第一章 简介">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                第一章 简介
              </div>
            </div>
          </a>
        
        
          
          <a href="../11.%E6%80%BB%E7%BB%93%20conclusion/" class="md-footer__link md-footer__link--next" aria-label="下一页: 第十一章 总结">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                第十一章 总结
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 Ean Yang
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/YQisme" target="_blank" rel="noopener" title="github主页" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://space.bilibili.com/244185393?spm_id_from=333.788.0.0" target="_blank" rel="noopener" title="b站主页" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7v202.4c-.4 26.4-9.2 48.1-26.5 65.1-17.2 17-39.1 25.9-65.5 26.7H92.02c-26.45-.8-48.21-9.8-65.28-27.2C9.682 419.4.767 396.5 0 368.2V169.8c.767-26 9.682-47.6 26.74-65.7C43.81 87.75 65.57 78.77 92.02 78h29.38L96.05 52.19c-5.75-5.73-8.63-13-8.63-21.79 0-8.8 2.88-16.06 8.63-21.797C101.8 2.868 109.1 0 117.9 0s16.1 2.868 21.9 8.603L213.1 78h88l74.5-69.397C381.7 2.868 389.2 0 398 0c8.8 0 16.1 2.868 21.9 8.603 5.7 5.737 8.6 12.997 8.6 21.797 0 8.79-2.9 16.06-8.6 21.79L394.6 78h29.3c26.4.77 48 9.75 64.7 26.1zm-38.8 69.7c-.4-9.6-3.7-17.4-10.7-23.5-5.2-6.1-14-9.4-22.7-9.8H96.05c-9.59.4-17.45 3.7-23.58 9.8-6.14 6.1-9.4 13.9-9.78 23.5v194.4c0 9.2 3.26 17 9.78 23.5s14.38 9.8 23.58 9.8H416.4c9.2 0 17-3.3 23.3-9.8 6.3-6.5 9.7-14.3 10.1-23.5V173.8zm-264.3 42.7c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.2 6.3-14 9.5-23.6 9.5-9.6 0-17.5-3.2-23.6-9.5-6.1-6.3-9.4-14-9.8-23.2v-33.3c.4-9.1 3.8-16.9 10.1-23.2 6.3-6.3 13.2-9.6 23.3-10 9.2.4 17 3.7 23.3 10zm191.5 0c6.3 6.3 9.7 14.1 10.1 23.2V273c-.4 9.2-3.7 16.9-9.8 23.2-6.1 6.3-14 9.5-23.6 9.5-9.6 0-17.4-3.2-23.6-9.5-7-6.3-9.4-14-9.7-23.2v-33.3c.3-9.1 3.7-16.9 10-23.2 6.3-6.3 14.1-9.6 23.3-10 9.2.4 17 3.7 23.3 10z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://eanyang7.com" target="_blank" rel="noopener" title="个人主页" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M112 48a48 48 0 1 1 96 0 48 48 0 1 1-96 0zm40 304v128c0 17.7-14.3 32-32 32s-32-14.3-32-32V256.9l-28.6 47.6c-9.1 15.1-28.8 20-43.9 10.9s-20-28.8-10.9-43.9l58.3-97c17.4-28.9 48.6-46.6 82.3-46.6h29.7c33.7 0 64.9 17.7 82.3 46.6l58.3 97c9.1 15.1 4.2 34.8-10.9 43.9s-34.8 4.2-43.9-10.9L232 256.9V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V352h-16z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.tracking", "navigation.prune", "navigation.top", "toc.follow", "header.autohide", "navigation.footer", "search.suggest", "search.highlight", "search.share", "content.action.edit", "content.action.view", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.6c14ae12.min.js"></script>
      
    
  </body>
</html>